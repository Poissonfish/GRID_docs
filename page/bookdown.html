<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>GRID: Greenfield Image Decoder</title>
  <meta name="description" content="A Python Package of Greenfield Image Decoder for Aerial High-Throughput Phenotyping">
  <meta name="generator" content="bookdown <!--bookdown:version--> and GitBook 2.6.7">

  <meta property="og:title" content="GRID: Greenfield Image Decoder" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="<a href="https://github.com/poissonfish/photo_grid" class="uri">https://github.com/poissonfish/photo_grid</a>" />
  <meta property="og:image" content="<a href="https://github.com/poissonfish/photo_grid" class="uri">https://github.com/poissonfish/photo_grid</a>md/icon.png" />
  <meta property="og:description" content="A Python Package of Greenfield Image Decoder for Aerial High-Throughput Phenotyping" />
  <meta name="github-repo" content="poissonfish/photo_grid" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="GRID: Greenfield Image Decoder" />
  
  <meta name="twitter:description" content="A Python Package of Greenfield Image Decoder for Aerial High-Throughput Phenotyping" />
  <meta name="twitter:image" content="<a href="https://github.com/poissonfish/photo_grid" class="uri">https://github.com/poissonfish/photo_grid</a>md/icon.png" />

<meta name="author" content="Chunpeng James Chen">


<meta name="date" content="2019-10-29">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>



<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



<!--bookdown:title:start-->
<div id="header">
<h1 class="title">GRID: Greenfield Image Decoder</h1>
<p class="author"><em>Chunpeng James Chen</em></p>
<p class="date"><em>2019-10-29</em></p>
</div>
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">
<!--bookdown:toc2:start-->
<ul>
<li><a href="#installation"><span class="toc-section-number">1</span> Installation</a><ul>
<li><a href="#windows"><span class="toc-section-number">1.1</span> Windows</a></li>
<li><a href="#os-x"><span class="toc-section-number">1.2</span> OS X</a></li>
</ul></li>
<li><a href="#overview"><span class="toc-section-number">2</span> Overview</a></li>
<li><a href="#interface-and-usage"><span class="toc-section-number">3</span> Interface and Usage</a><ul>
<li><a href="#load-data"><span class="toc-section-number">3.1</span> Load data</a></li>
<li><a href="#crop-images"><span class="toc-section-number">3.2</span> Crop Images</a></li>
<li><a href="#plots-extraction"><span class="toc-section-number">3.3</span> Plots Extraction</a></li>
<li><a href="#set-up-central-points"><span class="toc-section-number">3.4</span> Set Up Central Points</a></li>
<li><a href="#finalize-plots-boundaries"><span class="toc-section-number">3.5</span> Finalize plot’s boundaries</a></li>
</ul></li>
<li><a href="#gallery"><span class="toc-section-number">4</span> Gallery</a></li>
</ul>
<!--bookdown:toc2:end-->
      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GRID: Greenfield Image Decoder</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<p align="center">
<p align="center">
<img src = "res/home.png" width = 1200>
</p>
<div id="installation" class="section level1">
<h1><span class="header-section-number">1</span> Installation</h1>
<div id="windows" class="section level2">
<h2><span class="header-section-number">1.1</span> Windows</h2>
It’s recommanded to install GRID under <a href="https://www.anaconda.com/distribution/">Anaconda envirnoemnt</a>
<p align="center">
<p align="center">
<img src = "res/Anaconda_python3.png" width = 800>
</p>
Run the downloaded installer
<p align="center">
<p align="center">
<img src = "res/Anaconda_installation.png" width = 800>
</p>
Open Anaconda prompt
<p align="center">
<p align="center">
<img src = "res/Anaconda_Prompt.png" width = 800>
</p>
<p>Run the following command to install Rasterio, which is required by GRID.
’’’
conda config –add channels conda-forge
conda install rasterio
’’’</p>
<p>Use <a href="https://pip.pypa.io/en/stable/">pip</a> to install GRID
’’’
pip install photo_grid
’’’</p>
<p>To launch GRID, type following scripts in Anaconda prompt:</p>
<pre><code>python -m grid</code></pre>
</div>
<div id="os-x" class="section level2">
<h2><span class="header-section-number">1.2</span> OS X</h2>
<p>Install <a href="https://www.python.org/downloads/">Python 3</a> and <a href="https://pip.pypa.io/en/stable/">pip</a> before installing GRID</p>
<p>Use <a href="https://pip.pypa.io/en/stable/">pip</a> to install GRID
’’’
pip install photo_grid
’’’</p>
<p>To launch GRID, type following scripts in Terminal:</p>
<pre><code>python -m grid</code></pre>
</div>
</div>
<div id="overview" class="section level1">
<h1><span class="header-section-number">2</span> Overview</h1>
<p>Here you can find the general usage of GRID in 5 steps.</p>
<strong>Load data</strong>
<p align="center">
<p align="center">
<img src = "res/step1.png" width = 700>
</p>
<strong>Crop your image</strong>
<p align="center">
<p align="center">
<img src = "res/step2.gif" width = 700>
</p>
<strong>Plots extraction</strong>
<p align="center">
<p align="center">
<img src = "res/step3.gif" width = 700>
</p>
<strong>Set Up Central Points</strong>
<p align="center">
<p align="center">
<img src = "res/step4.gif" width = 700>
</p>
<strong>Finalize plot’s boundaries</strong>
<p align="center">
<p align="center">
<img src = "res/step5.gif" width = 700>
</p>
<!--chapter:end:index.Rmd-->
</div>
<div id="interface-and-usage" class="section level1">
<h1><span class="header-section-number">3</span> Interface and Usage</h1>
<div id="load-data" class="section level2">
<h2><span class="header-section-number">3.1</span> Load data</h2>
<p align="center">
<p align="center">
<img src = "res/step1.png" width = 700>
</p>
<ul>
<li><p>GRID only requires an image file to function normally. However, in order to improve the segmentation result, providing a map file could be helpful for GRID to know better about the field layout.</p></li>
<li><p>If users don’t have suitable image, it’s also possible to learn GRID by choosing “Demo files”.</p></li>
<li><p>More information about file format can be found <a href="#load-data">here</a></p></li>
</ul>
<p><strong>Map files</strong></p>
<ul>
<li>For the map file, no header or row name needed. It can be a simple tab-delimited text file or comma-separated values (CSV) file.</li>
</ul>
<table>
<caption>(#tab:unnamed-chunk-1)Map file</caption>
<tbody>
<tr class="odd">
<td align="left">plot_1</td>
<td align="left">plot_6</td>
<td align="left">plot_11</td>
<td align="left">plot_16</td>
</tr>
<tr class="even">
<td align="left">plot_2</td>
<td align="left">plot_7</td>
<td align="left">plot_12</td>
<td align="left">plot_17</td>
</tr>
<tr class="odd">
<td align="left">plot_3</td>
<td align="left">plot_8</td>
<td align="left">plot_13</td>
<td align="left">plot_18</td>
</tr>
<tr class="even">
<td align="left">plot_4</td>
<td align="left">plot_9</td>
<td align="left">plot_14</td>
<td align="left">plot_19</td>
</tr>
<tr class="odd">
<td align="left">plot_5</td>
<td align="left">plot_10</td>
<td align="left">plot_15</td>
<td align="left">plot_20</td>
</tr>
</tbody>
</table>
<ul>
<li><p>The values arranged in this file are based on users’ field layout. For example, if the field has 4 rows and 5 columns of plots, then the file should also have 4 rows and 5 columns.</p></li>
<li><p>Values in the map file are plot IDs, which have to be unique.</p></li>
</ul>
<p><strong>Image files</strong></p>
<ul>
<li>GRID currently only supports images encoded in “uint8”. Other encoding may be problematic. There’s no limitation on the number of bands.</li>
</ul>
</div>
<div id="crop-images" class="section level2">
<h2><span class="header-section-number">3.2</span> Crop Images</h2>
<p align="center">
<p align="center">
<img src = "res/step2.gif" width = 700>
</p>
<ul>
<li>There’re two magnification levels available for the mouse cursor.
Users can switch the level by right-clicking on any place of the image.</li>
</ul>
<p align="center">
<p align="center">
<img src = "res/ii-zoom.gif" width = 700>
</p>
<ul>
<li>Left-clicking on the image to define four corners of the sub-image you want to analyze on. The fifth click will reset all the red marks</li>
</ul>
<p align="center">
<p align="center">
<img src = "res/ii-corners.png" width = 700>
</p>
</div>
<div id="plots-extraction" class="section level2">
<h2><span class="header-section-number">3.3</span> Plots Extraction</h2>
<p align="center">
<p align="center">
<img src = "res/step3.gif" width = 700>
</p>
<ul>
<li>This is a panel to define vegetation plots (i.e., area of interest, AOI). The yellow area is the one that will be selected, whereas pixels colored as black will be excluded from the following calculation.</li>
</ul>
<p align="center">
<p align="center">
<img src = "res/iii-kmean.png" width = 700>
</p>
<ul>
<li><p>GRID will run a K-mean clustering algorithm to extract the vegetation areas.</p></li>
<li><p>Only bands of red and near-infrared red (NIR) will be used in K-mean clustering.</p></li>
<li><p>Selected K will tell GRID that how many clusters are expected in the image.</p></li>
</ul>
<p align="center">
<p align="center">
<img src = "res/iii-bin.png" width = 700>
</p>
<ul>
<li>To assign which clusters as AOI, users can either let the program decide automatically or select them manually.</li>
</ul>
<p align="center">
<p align="center">
<img src = "res/iii-refine.png" width = 700>
</p>
<ul>
<li>De-shadow: This feature allows users to remove any pixel that is darker than the certain level.</li>
</ul>
<p align="center">
<p align="center">
<img src = "res/iii-shadow.png" width = 700>
</p>
<ul>
<li>De-noise: This is a feature to remove noise signals existing in the background or canopy.</li>
</ul>
<p align="center">
<p align="center">
<img src = "res/iii-noise.png" width = 700>
</p>
<p align="center">
<p align="center">
<img src = "res/iii-noise2.png" width = 700>
</p>
<ul>
<li>Display mode: Users may verify the results by switching different view modes. “RGB” shows the original image; “Binary” is a mode showing the selected area (yellow) and the excluded part (black); And “K mean” can show the clustering results by different colors.</li>
</ul>
<p align="center">
<p align="center">
<img src = "res/iii-dis.png" width = 400>
</p>
<p align="center">
<p align="center">
<img src = "res/iii-dis2.png" width = 700>
</p>
</div>
<div id="set-up-central-points" class="section level2">
<h2><span class="header-section-number">3.4</span> Set Up Central Points</h2>
<p align="center">
<p align="center">
<img src = "res/step4.gif" width = 700>
</p>
<p>After defining the selected areas. GRID will automatically detect the center of each plot. If a map file is provided, only the specified number of plots will be detected. Users can also add or remove any missed or falsely detected center by the manners listed below.</p>
<ul>
<li><p>Left-button click: Add a row (or column) of plot centers.</p></li>
<li><p>Left-button drag: Move a row (or column) of plot centers.</p></li>
<li><p>Right-button click: Remove a row (or column) of plot centers.</p></li>
</ul>
</div>
<div id="finalize-plots-boundaries" class="section level2">
<h2><span class="header-section-number">3.5</span> Finalize plot’s boundaries</h2>
<p align="center">
<p align="center">
<img src = "res/step5.gif" width = 700>
</p>
<p>GRID will detect the border automatically for each plot. Users in this panel can finalize the borders and export the results.</p>
<p align="center">
<p align="center">
<img src = "res/v-seg.png" width = 700>
</p>
<ul>
<li><p>Border detection (auto): Grid coefficient is a way to tune the weights between two strategies: With a smaller coefficient, GRID will tend to explore the adjacent pixels from the center and expand the border as much as possible. Whereas with a larger coefficient, GRID will consider how far the expanded border from the central point. The further the distance is, the less chance GRID will continue to explore the adjacent area.</p></li>
<li><p>Border detection (manual): Instead of detecting borders automatically, the size of borders can also be adjusted into a fixed size. It assumes that every plots are in the same size</p></li>
</ul>
<p align="center">
<p align="center">
<img src = "res/v-align.png" width = 400>
</p>
<ul>
<li>Alignment: Rows and columns of plots can be aligned vertically or horizontally. It’s like the way how you arrange objects in Microsofts Word or PowerPoints. GRID also allows users to allocate the plots in the equal distance.</li>
</ul>
<p align="center">
<p align="center">
<img src = "res/v-output.png" width = 700>
</p>
<ul>
<li>Output: In this section users can name the prefix for the output files.</li>
</ul>
<p><strong>Cursor mode</strong> (right click to switch between each mode):</p>
<ul>
<li><p>Border refine: In this mode, users can refine the individual’s border by left-click dragging</p></li>
<li><p>Column-wise adjustment: An entire column can be moved horizontally through left-click dragging</p></li>
<li><p>Row-wise adjustment: An entire rows can be moved vertically through left-click dragging</p></li>
</ul>
<!--chapter:end:01-Interface.Rmd-->
</div>
</div>
<div id="gallery" class="section level1">
<h1><span class="header-section-number">4</span> Gallery</h1>
<p align="center">
<p align="center">
<img src = "res/demo1.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo2.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo3.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo4.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo5.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo6.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo7.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo8.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo9.png" width = 1200>
</p>
<p align="center">
<p align="center">
<img src = "res/demo10.png" width = 1200>
</p>
<!--chapter:end:02-Gallery.Rmd-->
</div>
<!--bookdown:body:end-->
            </section>

          </div>
        </div>
      </div>
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
    </div>
  </div>
<!--bookdown:config-->

</body>

</html>
